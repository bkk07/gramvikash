{
  "emergency_api_test_data": {

    "POST /api/doctor/register": {
      "description": "Register a new ASHA Worker or Vet as a Doctor",
      "requests": [
        {
          "label": "Register ASHA Worker",
          "body": {
            "name": "Dr. Meena Sharma",
            "phone": "+919876543210",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "a1b2c3d4-e5f6-7890-ab12-cd34ef567890",
              "name": "Dr. Meena Sharma",
              "phone": "+919876543210",
              "latitude": 18.5204,
              "longitude": 73.8567,
              "available": true
            }
          }
        },
        {
          "label": "Register Vet Doctor",
          "body": {
            "name": "Dr. Ramesh Yadav",
            "phone": "+917654321098",
            "latitude": 18.5310,
            "longitude": 73.8720
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "b2c3d4e5-f6a7-8901-bc23-de45ef678901",
              "name": "Dr. Ramesh Yadav",
              "phone": "+917654321098",
              "latitude": 18.531,
              "longitude": 73.872,
              "available": true
            }
          }
        },
        {
          "label": "Validation failure - missing phone",
          "body": {
            "name": "Dr. Anita Patil",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 400,
            "body": {
              "errors": ["Phone is required"]
            }
          }
        },
        {
          "label": "Validation failure - invalid phone format",
          "body": {
            "name": "Dr. Anita Patil",
            "phone": "9876543210",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 400,
            "body": {
              "errors": ["Phone must be in +91XXXXXXXXXX format"]
            }
          }
        }
      ]
    },

    "PUT /api/doctor/availability": {
      "description": "Toggle a Doctor's availability on or off",
      "requests": [
        {
          "label": "Mark doctor as unavailable",
          "body": {
            "id": "a1b2c3d4-e5f6-7890-ab12-cd34ef567890",
            "available": false
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "a1b2c3d4-e5f6-7890-ab12-cd34ef567890",
              "name": "Dr. Meena Sharma",
              "phone": "+919876543210",
              "latitude": 18.5204,
              "longitude": 73.8567,
              "available": false
            }
          }
        },
        {
          "label": "Mark doctor back as available",
          "body": {
            "id": "a1b2c3d4-e5f6-7890-ab12-cd34ef567890",
            "available": true
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "a1b2c3d4-e5f6-7890-ab12-cd34ef567890",
              "name": "Dr. Meena Sharma",
              "phone": "+919876543210",
              "latitude": 18.5204,
              "longitude": 73.8567,
              "available": true
            }
          }
        },
        {
          "label": "Failure - doctor not found",
          "body": {
            "id": "00000000-0000-0000-0000-000000000000",
            "available": false
          },
          "expected_response": {
            "status": 500,
            "body": {
              "message": "Doctor not found with id: 00000000-0000-0000-0000-000000000000"
            }
          }
        }
      ]
    },

    "POST /api/driver/register": {
      "description": "Register a new Driver with a vehicle type",
      "requests": [
        {
          "label": "Register BIKE driver",
          "body": {
            "name": "Suresh Kamble",
            "phone": "+918765432109",
            "vehicleType": "BIKE",
            "latitude": 18.5190,
            "longitude": 73.8540
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "c3d4e5f6-a7b8-9012-cd34-ef5678901234",
              "name": "Suresh Kamble",
              "phone": "+918765432109",
              "vehicleType": "BIKE",
              "latitude": 18.519,
              "longitude": 73.854,
              "available": true
            }
          }
        },
        {
          "label": "Register WATER_TANKER driver",
          "body": {
            "name": "Prakash Shinde",
            "phone": "+916543210987",
            "vehicleType": "WATER_TANKER",
            "latitude": 18.5250,
            "longitude": 73.8600
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "d4e5f6a7-b8c9-0123-de45-f67890123456",
              "name": "Prakash Shinde",
              "phone": "+916543210987",
              "vehicleType": "WATER_TANKER",
              "latitude": 18.525,
              "longitude": 73.86,
              "available": true
            }
          }
        },
        {
          "label": "Register AUTO driver",
          "body": {
            "name": "Vijay More",
            "phone": "+915432109876",
            "vehicleType": "AUTO",
            "latitude": 18.5165,
            "longitude": 73.8510
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "e5f6a7b8-c9d0-1234-ef56-789012345678",
              "name": "Vijay More",
              "phone": "+915432109876",
              "vehicleType": "AUTO",
              "latitude": 18.5165,
              "longitude": 73.851,
              "available": true
            }
          }
        },
        {
          "label": "Register TRACTOR driver",
          "body": {
            "name": "Ganesh Pawar",
            "phone": "+914321098765",
            "vehicleType": "TRACTOR",
            "latitude": 18.5300,
            "longitude": 73.8650
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "f6a7b8c9-d0e1-2345-f678-901234567890",
              "name": "Ganesh Pawar",
              "phone": "+914321098765",
              "vehicleType": "TRACTOR",
              "latitude": 18.53,
              "longitude": 73.865,
              "available": true
            }
          }
        },
        {
          "label": "Validation failure - missing vehicleType",
          "body": {
            "name": "Ravi Kumar",
            "phone": "+913210987654",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 400,
            "body": {
              "errors": ["Vehicle type is required"]
            }
          }
        }
      ]
    },

    "PUT /api/driver/availability": {
      "description": "Toggle a Driver's availability on or off",
      "requests": [
        {
          "label": "Mark driver as unavailable",
          "body": {
            "id": "c3d4e5f6-a7b8-9012-cd34-ef5678901234",
            "available": false
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "c3d4e5f6-a7b8-9012-cd34-ef5678901234",
              "name": "Suresh Kamble",
              "phone": "+918765432109",
              "vehicleType": "BIKE",
              "latitude": 18.519,
              "longitude": 73.854,
              "available": false
            }
          }
        },
        {
          "label": "Mark driver back as available",
          "body": {
            "id": "c3d4e5f6-a7b8-9012-cd34-ef5678901234",
            "available": true
          },
          "expected_response": {
            "status": 200,
            "body": {
              "id": "c3d4e5f6-a7b8-9012-cd34-ef5678901234",
              "name": "Suresh Kamble",
              "phone": "+918765432109",
              "vehicleType": "BIKE",
              "latitude": 18.519,
              "longitude": 73.854,
              "available": true
            }
          }
        }
      ]
    },

    "GET /api/driver/nearby": {
      "description": "Get all available drivers within a given radius (default 5km)",
      "requests": [
        {
          "label": "Find drivers near Pune with default 5km radius",
          "query_params": {
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "full_url": "/api/driver/nearby?latitude=18.5204&longitude=73.8567",
          "expected_response": {
            "status": 200,
            "body": [
              {
                "id": "c3d4e5f6-a7b8-9012-cd34-ef5678901234",
                "name": "Suresh Kamble",
                "phone": "+918765432109",
                "vehicleType": "BIKE",
                "latitude": 18.519,
                "longitude": 73.854,
                "available": true
              },
              {
                "id": "e5f6a7b8-c9d0-1234-ef56-789012345678",
                "name": "Vijay More",
                "phone": "+915432109876",
                "vehicleType": "AUTO",
                "latitude": 18.5165,
                "longitude": 73.851,
                "available": true
              }
            ]
          }
        },
        {
          "label": "Find drivers with custom 2km radius",
          "query_params": {
            "latitude": 18.5204,
            "longitude": 73.8567,
            "radiusKm": 2.0
          },
          "full_url": "/api/driver/nearby?latitude=18.5204&longitude=73.8567&radiusKm=2.0",
          "expected_response": {
            "status": 200,
            "body": []
          }
        }
      ]
    },

    "POST /api/emergency/create": {
      "description": "Submit a new emergency request. Dispatches Twilio calls to nearest doctors/drivers based on emergency type.",
      "requests": [

        {
          "label": "SNAKE_BITE - with nearby BIKE/AUTO drivers and nearest doctor",
          "body": {
            "farmerId": "11111111-1111-1111-1111-111111111111",
            "emergencyType": "SNAKE_BITE",
            "severity": "CRITICAL",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 200,
            "body": {
              "emergencyId": "aaaa1111-bbbb-2222-cccc-333344445555",
              "emergencyType": "SNAKE_BITE",
              "severity": "CRITICAL",
              "status": "NOTIFIED",
              "timestamp": "2026-02-26T10:30:00",
              "dosAndDonts": [
                "DO: Keep the victim calm and still.",
                "DO: Immobilize the bitten limb and keep it below heart level.",
                "DO: Remove rings, watches, or tight clothing near the bite.",
                "DO: Rush to the nearest hospital immediately.",
                "DON'T: Do NOT cut the wound or try to suck out the venom.",
                "DON'T: Do NOT apply ice or a tourniquet.",
                "DON'T: Do NOT give the victim alcohol or aspirin."
              ],
              "notifiedDoctors": ["Dr. Meena Sharma (+919876543210)"],
              "notifiedDrivers": [
                "Suresh Kamble (+918765432109)",
                "Vijay More (+915432109876)"
              ],
              "message": "Emergency responders have been notified."
            }
          }
        },

        {
          "label": "PESTICIDE_POISONING - nearest doctor notified",
          "body": {
            "farmerId": "22222222-2222-2222-2222-222222222222",
            "emergencyType": "PESTICIDE_POISONING",
            "severity": "HIGH",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 200,
            "body": {
              "emergencyId": "bbbb2222-cccc-3333-dddd-444455556666",
              "emergencyType": "PESTICIDE_POISONING",
              "severity": "HIGH",
              "status": "NOTIFIED",
              "timestamp": "2026-02-26T10:35:00",
              "dosAndDonts": [
                "DO: Move the person to fresh air immediately.",
                "DO: Remove contaminated clothing carefully.",
                "DO: Wash affected skin with soap and water for 15 minutes.",
                "DO: If swallowed, do NOT induce vomiting unless instructed by a doctor.",
                "DO: Bring the pesticide container/label to the hospital.",
                "DON'T: Do NOT give the person anything to eat or drink.",
                "DON'T: Do NOT leave the person unattended."
              ],
              "notifiedDoctors": ["Dr. Meena Sharma (+919876543210)"],
              "notifiedDrivers": [],
              "message": "Emergency responders have been notified."
            }
          }
        },

        {
          "label": "FIRE_ACCIDENT - WATER_TANKER, TRACTOR, TRUCK drivers notified",
          "body": {
            "farmerId": "33333333-3333-3333-3333-333333333333",
            "emergencyType": "FIRE_ACCIDENT",
            "severity": "HIGH",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 200,
            "body": {
              "emergencyId": "cccc3333-dddd-4444-eeee-555566667777",
              "emergencyType": "FIRE_ACCIDENT",
              "severity": "HIGH",
              "status": "NOTIFIED",
              "timestamp": "2026-02-26T10:40:00",
              "dosAndDonts": [
                "DO: Evacuate the area immediately.",
                "DO: Call the fire department (101).",
                "DO: Use water or sand to control small fires if safe.",
                "DO: Stay low to the ground if there is smoke.",
                "DON'T: Do NOT use water on electrical or oil fires.",
                "DON'T: Do NOT re-enter a burning structure.",
                "DON'T: Do NOT open doors that feel hot."
              ],
              "notifiedDoctors": [],
              "notifiedDrivers": [
                "Prakash Shinde (+916543210987)",
                "Ganesh Pawar (+914321098765)"
              ],
              "message": "Emergency responders have been notified."
            }
          }
        },

        {
          "label": "TRACTOR_ACCIDENT - all nearby drivers + nearest doctor notified",
            "body": {
                "farmerId": "44444444-4444-4444-4444-444444444444",
                "emergencyType": "TRACTOR_ACCIDENT",
                "severity": "MEDIUM",
                "latitude": 18.5204,
                "longitude": 73.8567
            },
          "expected_response": {
            "status": 200,
            "body": {
              "emergencyId": "dddd4444-eeee-5555-ffff-666677778888",
              "emergencyType": "TRACTOR_ACCIDENT",
              "severity": "MEDIUM",
              "status": "NOTIFIED",
              "timestamp": "2026-02-26T10:45:00",
              "dosAndDonts": [
                "DO: Turn off the engine if accessible.",
                "DO: Check for fuel leaks and move away if detected.",
                "DO: Apply first aid and stop any bleeding.",
                "DO: Do NOT move the victim if a spinal injury is suspected.",
                "DON'T: Do NOT crowd around the victim.",
                "DON'T: Do NOT attempt to move heavy machinery without equipment."
              ],
              "notifiedDoctors": ["Dr. Meena Sharma (+919876543210)"],
              "notifiedDrivers": [
                "Suresh Kamble (+918765432109)",
                "Vijay More (+915432109876)",
                "Prakash Shinde (+916543210987)",
                "Ganesh Pawar (+914321098765)"
              ],
              "message": "Emergency responders have been notified."
            }
          }
        },

        {
          "label": "LIVESTOCK_EMERGENCY - nearest vet notified (no media)",
          "body": {
            "farmerId": "55555555-5555-5555-5555-555555555555",
            "emergencyType": "LIVESTOCK_EMERGENCY",
            "severity": "LOW",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 200,
            "body": {
              "emergencyId": "eeee5555-ffff-6666-aaaa-777788889999",
              "emergencyType": "LIVESTOCK_EMERGENCY",
              "severity": "LOW",
              "status": "NOTIFIED",
              "timestamp": "2026-02-26T10:50:00",
              "dosAndDonts": [
                "DO: Isolate the affected animal from the rest of the herd.",
                "DO: Provide clean water and shade.",
                "DO: Note symptoms, time of onset, and recent feed changes.",
                "DO: Take a photo/video of the animal's condition for the vet.",
                "DON'T: Do NOT administer medication without vet guidance.",
                "DON'T: Do NOT handle the animal roughly.",
                "DON'T: Do NOT mix the animal back with healthy livestock."
              ],
              "notifiedDoctors": ["Dr. Ramesh Yadav (+917654321098)"],
              "notifiedDrivers": [],
              "message": "Emergency responders have been notified."
            }
          }
        },

        {
          "label": "LIVESTOCK_EMERGENCY - with imageUrl and voiceNoteUrl (media attached to Twilio message)",
          "body": {
            "farmerId": "66666666-6666-6666-6666-666666666666",
            "emergencyType": "LIVESTOCK_EMERGENCY",
            "severity": "HIGH",
            "latitude": 18.5204,
            "longitude": 73.8567,
            "imageUrl": "https://storage.example.com/livestock/cow-injury-2026.jpg",
            "voiceNoteUrl": "https://storage.example.com/audio/farmer-voice-note-2026.mp3"
          },
          "expected_twilio_log": "Calling +917654321098 via Twilio with message: EMERGENCY: Livestock emergency reported. Vet assistance needed. Image: https://storage.example.com/livestock/cow-injury-2026.jpg VoiceNote: https://storage.example.com/audio/farmer-voice-note-2026.mp3",
          "expected_response": {
            "status": 200,
            "body": {
              "emergencyId": "ffff6666-aaaa-7777-bbbb-888899990000",
              "emergencyType": "LIVESTOCK_EMERGENCY",
              "severity": "HIGH",
              "status": "NOTIFIED",
              "timestamp": "2026-02-26T10:55:00",
              "dosAndDonts": [
                "DO: Isolate the affected animal from the rest of the herd.",
                "DO: Provide clean water and shade.",
                "DO: Note symptoms, time of onset, and recent feed changes.",
                "DO: Take a photo/video of the animal's condition for the vet.",
                "DON'T: Do NOT administer medication without vet guidance.",
                "DON'T: Do NOT handle the animal roughly.",
                "DON'T: Do NOT mix the animal back with healthy livestock."
              ],
              "notifiedDoctors": ["Dr. Ramesh Yadav (+917654321098)"],
              "notifiedDrivers": [],
              "message": "Emergency responders have been notified."
            }
          }
        },

        {
          "label": "No nearby responders found scenario",
          "body": {
            "farmerId": "77777777-7777-7777-7777-777777777777",
            "emergencyType": "SNAKE_BITE",
            "severity": "CRITICAL",
            "latitude": 25.0000,
            "longitude": 85.0000
          },
          "expected_response": {
            "status": 200,
            "body": {
              "emergencyId": "gggg7777-hhhh-8888-iiii-999900001111",
              "emergencyType": "SNAKE_BITE",
              "severity": "CRITICAL",
              "status": "NOTIFIED",
              "timestamp": "2026-02-26T11:00:00",
              "dosAndDonts": [
                "DO: Keep the victim calm and still.",
                "DO: Immobilize the bitten limb and keep it below heart level.",
                "DO: Remove rings, watches, or tight clothing near the bite.",
                "DO: Rush to the nearest hospital immediately.",
                "DON'T: Do NOT cut the wound or try to suck out the venom.",
                "DON'T: Do NOT apply ice or a tourniquet.",
                "DON'T: Do NOT give the victim alcohol or aspirin."
              ],
              "notifiedDoctors": [],
              "notifiedDrivers": [],
              "message": "No nearby responders found. Please contact local authorities."
            }
          }
        },

        {
          "label": "Validation failure - missing farmerId",
          "body": {
            "emergencyType": "SNAKE_BITE",
            "severity": "HIGH",
            "latitude": 18.5204,
            "longitude": 73.8567
          },
          "expected_response": {
            "status": 400,
            "body": {
              "errors": ["Farmer ID is required"]
            }
          }
        },

        {
          "label": "Validation failure - missing latitude and longitude",
          "body": {
            "farmerId": "88888888-8888-8888-8888-888888888888",
            "emergencyType": "FIRE_ACCIDENT",
            "severity": "MEDIUM"
          },
          "expected_response": {
            "status": 400,
            "body": {
              "errors": [
                "Latitude is required",
                "Longitude is required"
              ]
            }
          }
        }
      ]
    }

  }
}
